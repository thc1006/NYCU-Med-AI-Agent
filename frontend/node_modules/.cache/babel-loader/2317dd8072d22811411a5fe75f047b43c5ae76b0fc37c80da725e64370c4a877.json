{"ast":null,"code":"/**\n * 額外資訊輸入表單元件\n */import React from'react';import{User,Clock,Pill,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdditionalInfoForm=_ref=>{let{query,onChange,disabled=false}=_ref;// 處理年齡變更\nconst handleAgeChange=value=>{const age=value===''?undefined:parseInt(value,10);onChange({age});};// 處理症狀持續時間變更\nconst handleDurationChange=value=>{const duration=value===''?undefined:parseInt(value,10);onChange({duration_hours:duration});};// 處理藥物清單變更\nconst handleMedicationsChange=value=>{const medications=value.split(/[,，\\n]/).map(med=>med.trim()).filter(med=>med.length>0);onChange({medications});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 mr-1\"}),\"\\u8A73\\u7D30\\u8CC7\\u8A0A\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"age\",className:\"block text-sm text-gray-600 mb-1\",children:\"\\u5E74\\u9F61\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"age\",value:query.age||'',onChange:e=>handleAgeChange(e.target.value),placeholder:\"\\u8ACB\\u8F38\\u5165\\u5E74\\u9F61\",min:\"0\",max:\"150\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500\",disabled:disabled})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"gender\",className:\"block text-sm text-gray-600 mb-1\",children:\"\\u6027\\u5225\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"gender\",value:query.gender||'',onChange:e=>onChange({gender:e.target.value||undefined}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500\",disabled:disabled,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u8ACB\\u9078\\u64C7\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"\\u7537\\u6027\"}),/*#__PURE__*/_jsx(\"option\",{value:\"F\",children:\"\\u5973\\u6027\"}),/*#__PURE__*/_jsx(\"option\",{value:\"O\",children:\"\\u5176\\u4ED6\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"duration\",className:\"block text-sm text-gray-600 mb-1 flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 mr-1\"}),\"\\u75C7\\u72C0\\u6301\\u7E8C\\u6642\\u9593\\uFF08\\u5C0F\\u6642\\uFF09\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"duration\",value:query.duration_hours||'',onChange:e=>handleDurationChange(e.target.value),placeholder:\"\\u4F8B\\u5982\\uFF1A2\\uFF08\\u6301\\u7E8C2\\u5C0F\\u6642\\uFF09\",min:\"0\",max:\"8760\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500\",disabled:disabled}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"\\u75C7\\u72C0\\u5F9E\\u4EC0\\u9EBC\\u6642\\u5019\\u958B\\u59CB\\uFF1F\\u8F38\\u5165\\u5927\\u7D04\\u7684\\u5C0F\\u6642\\u6578\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:query.has_chronic_disease,onChange:e=>onChange({has_chronic_disease:e.target.checked}),className:\"rounded border-gray-300 text-red-600 focus:ring-red-500\",disabled:disabled}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 mr-1\"}),\"\\u6211\\u6709\\u6162\\u6027\\u75BE\\u75C5\\uFF08\\u7CD6\\u5C3F\\u75C5\\u3001\\u9AD8\\u8840\\u58D3\\u3001\\u5FC3\\u81DF\\u75C5\\u7B49\\uFF09\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"medications\",className:\"block text-sm text-gray-600 mb-1 flex items-center\",children:[/*#__PURE__*/_jsx(Pill,{className:\"w-4 h-4 mr-1\"}),\"\\u76EE\\u524D\\u670D\\u7528\\u7684\\u85E5\\u7269\"]}),/*#__PURE__*/_jsx(\"textarea\",{id:\"medications\",value:query.medications.join('，'),onChange:e=>handleMedicationsChange(e.target.value),placeholder:\"\\u4F8B\\u5982\\uFF1A\\u963F\\u65AF\\u5339\\u9748\\uFF0C\\u8840\\u58D3\\u85E5\\uFF0C\\u7DAD\\u4ED6\\u547D...\",rows:2,className:\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none\",disabled:disabled}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"\\u8ACB\\u7528\\u9017\\u865F\\u3001\\u4E2D\\u6587\\u9017\\u865F\\u6216\\u63DB\\u884C\\u5206\\u9694\\u591A\\u500B\\u85E5\\u7269\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-md p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"\\uD83D\\uDCA1 \\u63D0\\u793A\\uFF1A\"}),\"\\u63D0\\u4F9B\\u9019\\u4E9B\\u8CC7\\u8A0A\\u53EF\\u4EE5\\u5E6B\\u52A9\\u7CFB\\u7D71\\u7D66\\u51FA\\u66F4\\u6E96\\u78BA\\u7684\\u5EFA\\u8B70\\uFF0C\\u4F46\\u90FD\\u4E0D\\u662F\\u5FC5\\u586B\\u9805\\u76EE\\u3002\"]})})]});};export default AdditionalInfoForm;","map":{"version":3,"names":["React","User","Clock","Pill","AlertCircle","jsx","_jsx","jsxs","_jsxs","AdditionalInfoForm","_ref","query","onChange","disabled","handleAgeChange","value","age","undefined","parseInt","handleDurationChange","duration","duration_hours","handleMedicationsChange","medications","split","map","med","trim","filter","length","className","children","htmlFor","type","id","e","target","placeholder","min","max","gender","checked","has_chronic_disease","join","rows"],"sources":["C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/src/components/SymptomForm/AdditionalInfoForm.tsx"],"sourcesContent":["/**\n * 額外資訊輸入表單元件\n */\n\nimport React from 'react';\nimport { User, Clock, Pill, AlertCircle } from 'lucide-react';\nimport { SymptomQuery } from '../../types';\n\ninterface AdditionalInfoFormProps {\n  query: SymptomQuery;\n  onChange: (query: Partial<SymptomQuery>) => void;\n  disabled?: boolean;\n}\n\nconst AdditionalInfoForm: React.FC<AdditionalInfoFormProps> = ({\n  query,\n  onChange,\n  disabled = false\n}) => {\n  // 處理年齡變更\n  const handleAgeChange = (value: string) => {\n    const age = value === '' ? undefined : parseInt(value, 10);\n    onChange({ age });\n  };\n\n  // 處理症狀持續時間變更\n  const handleDurationChange = (value: string) => {\n    const duration = value === '' ? undefined : parseInt(value, 10);\n    onChange({ duration_hours: duration });\n  };\n\n  // 處理藥物清單變更\n  const handleMedicationsChange = (value: string) => {\n    const medications = value\n      .split(/[,，\\n]/)\n      .map(med => med.trim())\n      .filter(med => med.length > 0);\n    onChange({ medications });\n  };\n\n  return (\n    <div className=\"bg-gray-50 rounded-lg p-4 space-y-4\">\n      <h3 className=\"text-sm font-medium text-gray-700 flex items-center\">\n        <User className=\"w-4 h-4 mr-1\" />\n        詳細資訊\n      </h3>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n        {/* 年齡 */}\n        <div>\n          <label htmlFor=\"age\" className=\"block text-sm text-gray-600 mb-1\">\n            年齡\n          </label>\n          <input\n            type=\"number\"\n            id=\"age\"\n            value={query.age || ''}\n            onChange={(e) => handleAgeChange(e.target.value)}\n            placeholder=\"請輸入年齡\"\n            min=\"0\"\n            max=\"150\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n            disabled={disabled}\n          />\n        </div>\n\n        {/* 性別 */}\n        <div>\n          <label htmlFor=\"gender\" className=\"block text-sm text-gray-600 mb-1\">\n            性別\n          </label>\n          <select\n            id=\"gender\"\n            value={query.gender || ''}\n            onChange={(e) => onChange({ gender: e.target.value || undefined })}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n            disabled={disabled}\n          >\n            <option value=\"\">請選擇</option>\n            <option value=\"M\">男性</option>\n            <option value=\"F\">女性</option>\n            <option value=\"O\">其他</option>\n          </select>\n        </div>\n      </div>\n\n      {/* 症狀持續時間 */}\n      <div>\n        <label htmlFor=\"duration\" className=\"block text-sm text-gray-600 mb-1 flex items-center\">\n          <Clock className=\"w-4 h-4 mr-1\" />\n          症狀持續時間（小時）\n        </label>\n        <input\n          type=\"number\"\n          id=\"duration\"\n          value={query.duration_hours || ''}\n          onChange={(e) => handleDurationChange(e.target.value)}\n          placeholder=\"例如：2（持續2小時）\"\n          min=\"0\"\n          max=\"8760\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500\"\n          disabled={disabled}\n        />\n        <p className=\"mt-1 text-xs text-gray-500\">\n          症狀從什麼時候開始？輸入大約的小時數\n        </p>\n      </div>\n\n      {/* 慢性疾病 */}\n      <div>\n        <label className=\"flex items-center space-x-2\">\n          <input\n            type=\"checkbox\"\n            checked={query.has_chronic_disease}\n            onChange={(e) => onChange({ has_chronic_disease: e.target.checked })}\n            className=\"rounded border-gray-300 text-red-600 focus:ring-red-500\"\n            disabled={disabled}\n          />\n          <span className=\"text-sm text-gray-700 flex items-center\">\n            <AlertCircle className=\"w-4 h-4 mr-1\" />\n            我有慢性疾病（糖尿病、高血壓、心臟病等）\n          </span>\n        </label>\n      </div>\n\n      {/* 目前用藥 */}\n      <div>\n        <label htmlFor=\"medications\" className=\"block text-sm text-gray-600 mb-1 flex items-center\">\n          <Pill className=\"w-4 h-4 mr-1\" />\n          目前服用的藥物\n        </label>\n        <textarea\n          id=\"medications\"\n          value={query.medications.join('，')}\n          onChange={(e) => handleMedicationsChange(e.target.value)}\n          placeholder=\"例如：阿斯匹靈，血壓藥，維他命...\"\n          rows={2}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none\"\n          disabled={disabled}\n        />\n        <p className=\"mt-1 text-xs text-gray-500\">\n          請用逗號、中文逗號或換行分隔多個藥物\n        </p>\n      </div>\n\n      {/* 資訊提醒 */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-md p-3\">\n        <p className=\"text-xs text-blue-800\">\n          <span className=\"font-medium\">💡 提示：</span>\n          提供這些資訊可以幫助系統給出更準確的建議，但都不是必填項目。\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default AdditionalInfoForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}