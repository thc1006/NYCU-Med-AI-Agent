{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thc1006\\\\Desktop\\\\dev\\\\NYCU-Med-AI-Agent\\\\frontend\\\\src\\\\components\\\\SymptomHistory\\\\SymptomHistory.tsx\",\n  _s = $RefreshSig$();\n/**\r\n * 症狀歷史記錄元件\r\n */\n\nimport React, { useState } from 'react';\nimport { History, Trash2, Search, Filter, ChevronDown, ChevronUp } from 'lucide-react';\nimport { useSymptomHistory } from '../../stores/useAppStore';\nimport { TRIAGE_LEVEL_CONFIG } from '../../types';\nimport SymptomHistoryItem from './SymptomHistoryItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SymptomHistory = ({\n  onHistorySelect\n}) => {\n  _s();\n  const {\n    symptomHistory,\n    clearSymptomHistory,\n    removeSymptomHistory\n  } = useSymptomHistory();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterLevel, setFilterLevel] = useState('all');\n  const [sortBy, setSortBy] = useState('newest');\n  const [showFilters, setShowFilters] = useState(false);\n\n  // 過濾和排序歷史記錄\n  const filteredHistory = React.useMemo(() => {\n    let filtered = symptomHistory.filter(history => {\n      // 搜尋篩選\n      if (searchTerm && !history.symptom_text.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return false;\n      }\n\n      // 等級篩選\n      if (filterLevel !== 'all' && history.triage_level !== filterLevel) {\n        return false;\n      }\n      return true;\n    });\n\n    // 排序\n    filtered.sort((a, b) => {\n      const dateA = new Date(a.timestamp).getTime();\n      const dateB = new Date(b.timestamp).getTime();\n      return sortBy === 'newest' ? dateB - dateA : dateA - dateB;\n    });\n    return filtered;\n  }, [symptomHistory, searchTerm, filterLevel, sortBy]);\n\n  // 取得等級統計\n  const levelStats = React.useMemo(() => {\n    const stats = {};\n    symptomHistory.forEach(history => {\n      stats[history.triage_level] = (stats[history.triage_level] || 0) + 1;\n    });\n    return stats;\n  }, [symptomHistory]);\n\n  // 格式化時間\n  const formatDate = timestamp => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n    if (diffDays === 0) {\n      return '今天 ' + date.toLocaleTimeString('zh-TW', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } else if (diffDays === 1) {\n      return '昨天 ' + date.toLocaleTimeString('zh-TW', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } else if (diffDays < 7) {\n      return `${diffDays}天前`;\n    } else {\n      return date.toLocaleDateString('zh-TW');\n    }\n  };\n  if (symptomHistory.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(History, {\n        className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900 mb-2\",\n        children: \"\\u5C1A\\u7121\\u75C7\\u72C0\\u67E5\\u8A62\\u6B77\\u53F2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"\\u7576\\u60A8\\u4F7F\\u7528\\u75C7\\u72C0\\u8A55\\u4F30\\u529F\\u80FD\\u5F8C\\uFF0C\\u6B77\\u53F2\\u8A18\\u9304\\u6703\\u986F\\u793A\\u5728\\u9019\\u88E1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-sm border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-6 py-4 border-b border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"w-5 h-5 mr-2 text-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), \"\\u75C7\\u72C0\\u67E5\\u8A62\\u6B77\\u53F2\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"\\u5171 \", symptomHistory.length, \" \\u7B46\\u8A18\\u9304\", filteredHistory.length !== symptomHistory.length && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uFF0C\\u986F\\u793A \", filteredHistory.length, \" \\u7B46\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearSymptomHistory,\n          className: \"flex items-center px-3 py-2 text-sm text-red-600 hover:text-red-800 transition-colors\",\n          title: \"\\u6E05\\u9664\\u6240\\u6709\\u6B77\\u53F2\\u8A18\\u9304\",\n          children: [/*#__PURE__*/_jsxDEV(Trash2, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), \"\\u6E05\\u9664\\u5168\\u90E8\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"\\u641C\\u5C0B\\u75C7\\u72C0...\",\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilters(!showFilters),\n          className: \"flex items-center text-sm text-gray-600 hover:text-gray-800 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"w-4 h-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), \"\\u7BE9\\u9078\", showFilters ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            className: \"w-4 h-4 ml-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            className: \"w-4 h-4 ml-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          className: \"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"newest\",\n            children: \"\\u6700\\u65B0\\u512A\\u5148\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"oldest\",\n            children: \"\\u6700\\u820A\\u512A\\u5148\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setFilterLevel('all'),\n            className: `px-3 py-1 text-sm rounded-full border transition-colors ${filterLevel === 'all' ? 'bg-blue-500 text-white border-blue-500' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'}`,\n            children: [\"\\u5168\\u90E8 (\", symptomHistory.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), Object.entries(levelStats).map(([level, count]) => {\n            const config = TRIAGE_LEVEL_CONFIG[level];\n            if (!config) return null;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setFilterLevel(level),\n              className: `px-3 py-1 text-sm rounded-full border transition-colors ${filterLevel === level ? `bg-${config.color}-500 text-white border-${config.color}-500` : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'}`,\n              children: [config.label, \" (\", count, \")\"]\n            }, level, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"divide-y divide-gray-200\",\n      children: filteredHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"w-8 h-8 text-gray-300 mx-auto mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"\\u627E\\u4E0D\\u5230\\u7B26\\u5408\\u689D\\u4EF6\\u7684\\u8A18\\u9304\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this) : filteredHistory.map(history => /*#__PURE__*/_jsxDEV(SymptomHistoryItem, {\n        history: history,\n        onSelect: () => onHistorySelect === null || onHistorySelect === void 0 ? void 0 : onHistorySelect(history),\n        onDelete: () => removeSymptomHistory(history.id),\n        formatDate: formatDate\n      }, history.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(SymptomHistory, \"G4oV0P/TNrBkxigecOhPwKGjJzA=\", false, function () {\n  return [useSymptomHistory];\n});\n_c = SymptomHistory;\nexport default SymptomHistory;\nvar _c;\n$RefreshReg$(_c, \"SymptomHistory\");","map":{"version":3,"names":["React","useState","History","Trash2","Search","Filter","ChevronDown","ChevronUp","useSymptomHistory","TRIAGE_LEVEL_CONFIG","SymptomHistoryItem","jsxDEV","_jsxDEV","SymptomHistory","onHistorySelect","_s","symptomHistory","clearSymptomHistory","removeSymptomHistory","searchTerm","setSearchTerm","filterLevel","setFilterLevel","sortBy","setSortBy","showFilters","setShowFilters","filteredHistory","useMemo","filtered","filter","history","symptom_text","toLowerCase","includes","triage_level","sort","a","b","dateA","Date","timestamp","getTime","dateB","levelStats","stats","forEach","formatDate","date","now","diffMs","diffDays","Math","floor","toLocaleTimeString","hour","minute","toLocaleDateString","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","type","value","onChange","e","target","placeholder","Object","entries","map","level","count","config","color","label","onSelect","onDelete","id","_c","$RefreshReg$"],"sources":["C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/src/components/SymptomHistory/SymptomHistory.tsx"],"sourcesContent":["/**\r\n * 症狀歷史記錄元件\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { History, Trash2, Search, Filter, ChevronDown, ChevronUp } from 'lucide-react';\r\nimport { useSymptomHistory } from '../../stores/useAppStore';\r\nimport { SymptomHistory as SymptomHistoryType, TRIAGE_LEVEL_CONFIG, TriageLevel } from '../../types';\r\nimport SymptomHistoryItem from './SymptomHistoryItem';\r\n\r\ninterface SymptomHistoryProps {\r\n  onHistorySelect?: (history: SymptomHistoryType) => void;\r\n}\r\n\r\nconst SymptomHistory: React.FC<SymptomHistoryProps> = ({ onHistorySelect }) => {\r\n  const { symptomHistory, clearSymptomHistory, removeSymptomHistory } = useSymptomHistory();\r\n\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterLevel, setFilterLevel] = useState<string>('all');\r\n  const [sortBy, setSortBy] = useState<'newest' | 'oldest'>('newest');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  // 過濾和排序歷史記錄\r\n  const filteredHistory = React.useMemo(() => {\r\n    let filtered = symptomHistory.filter(history => {\r\n      // 搜尋篩選\r\n      if (searchTerm && !history.symptom_text.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n        return false;\r\n      }\r\n\r\n      // 等級篩選\r\n      if (filterLevel !== 'all' && history.triage_level !== filterLevel) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    // 排序\r\n    filtered.sort((a, b) => {\r\n      const dateA = new Date(a.timestamp).getTime();\r\n      const dateB = new Date(b.timestamp).getTime();\r\n\r\n      return sortBy === 'newest' ? dateB - dateA : dateA - dateB;\r\n    });\r\n\r\n    return filtered;\r\n  }, [symptomHistory, searchTerm, filterLevel, sortBy]);\r\n\r\n  // 取得等級統計\r\n  const levelStats = React.useMemo(() => {\r\n    const stats: Record<string, number> = {};\r\n    symptomHistory.forEach(history => {\r\n      stats[history.triage_level] = (stats[history.triage_level] || 0) + 1;\r\n    });\r\n    return stats;\r\n  }, [symptomHistory]);\r\n\r\n  // 格式化時間\r\n  const formatDate = (timestamp: string): string => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n    if (diffDays === 0) {\r\n      return '今天 ' + date.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays === 1) {\r\n      return '昨天 ' + date.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffDays < 7) {\r\n      return `${diffDays}天前`;\r\n    } else {\r\n      return date.toLocaleDateString('zh-TW');\r\n    }\r\n  };\r\n\r\n  if (symptomHistory.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\r\n        <History className=\"w-12 h-12 text-gray-300 mx-auto mb-4\" />\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n          尚無症狀查詢歷史\r\n        </h3>\r\n        <p className=\"text-gray-600\">\r\n          當您使用症狀評估功能後，歷史記錄會顯示在這裡\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      {/* 標題和統計 */}\r\n      <div className=\"px-6 py-4 border-b border-gray-200\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n              <History className=\"w-5 h-5 mr-2 text-blue-500\" />\r\n              症狀查詢歷史\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600\">\r\n              共 {symptomHistory.length} 筆記錄\r\n              {filteredHistory.length !== symptomHistory.length && (\r\n                <span>，顯示 {filteredHistory.length} 筆</span>\r\n              )}\r\n            </p>\r\n          </div>\r\n\r\n          {/* 清除按鈕 */}\r\n          <button\r\n            onClick={clearSymptomHistory}\r\n            className=\"flex items-center px-3 py-2 text-sm text-red-600 hover:text-red-800 transition-colors\"\r\n            title=\"清除所有歷史記錄\"\r\n          >\r\n            <Trash2 className=\"w-4 h-4 mr-1\" />\r\n            清除全部\r\n          </button>\r\n        </div>\r\n\r\n        {/* 搜尋框 */}\r\n        <div className=\"relative mb-4\">\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            placeholder=\"搜尋症狀...\"\r\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        {/* 篩選和排序 */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <button\r\n            onClick={() => setShowFilters(!showFilters)}\r\n            className=\"flex items-center text-sm text-gray-600 hover:text-gray-800 transition-colors\"\r\n          >\r\n            <Filter className=\"w-4 h-4 mr-1\" />\r\n            篩選\r\n            {showFilters ? (\r\n              <ChevronUp className=\"w-4 h-4 ml-1\" />\r\n            ) : (\r\n              <ChevronDown className=\"w-4 h-4 ml-1\" />\r\n            )}\r\n          </button>\r\n\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value as 'newest' | 'oldest')}\r\n            className=\"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n          >\r\n            <option value=\"newest\">最新優先</option>\r\n            <option value=\"oldest\">最舊優先</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* 篩選選項 */}\r\n        {showFilters && (\r\n          <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              <button\r\n                onClick={() => setFilterLevel('all')}\r\n                className={`px-3 py-1 text-sm rounded-full border transition-colors ${\r\n                  filterLevel === 'all'\r\n                    ? 'bg-blue-500 text-white border-blue-500'\r\n                    : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                全部 ({symptomHistory.length})\r\n              </button>\r\n\r\n              {Object.entries(levelStats).map(([level, count]) => {\r\n                const config = TRIAGE_LEVEL_CONFIG[level as TriageLevel];\r\n                if (!config) return null;\r\n\r\n                return (\r\n                  <button\r\n                    key={level}\r\n                    onClick={() => setFilterLevel(level)}\r\n                    className={`px-3 py-1 text-sm rounded-full border transition-colors ${\r\n                      filterLevel === level\r\n                        ? `bg-${config.color}-500 text-white border-${config.color}-500`\r\n                        : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    {config.label} ({count})\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* 歷史記錄列表 */}\r\n      <div className=\"divide-y divide-gray-200\">\r\n        {filteredHistory.length === 0 ? (\r\n          <div className=\"px-6 py-8 text-center\">\r\n            <Search className=\"w-8 h-8 text-gray-300 mx-auto mb-2\" />\r\n            <p className=\"text-gray-600\">找不到符合條件的記錄</p>\r\n          </div>\r\n        ) : (\r\n          filteredHistory.map((history) => (\r\n            <SymptomHistoryItem\r\n              key={history.id}\r\n              history={history}\r\n              onSelect={() => onHistorySelect?.(history)}\r\n              onDelete={() => removeSymptomHistory(history.id)}\r\n              formatDate={formatDate}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SymptomHistory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}