{"ast":null,"code":"/**\n * 台灣醫療 AI 助手 - 主應用程式元件\n */import React,{Suspense}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import{Heart}from'lucide-react';// 頁面元件 - 使用懶加載\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=/*#__PURE__*/React.lazy(()=>import('./pages/HomePage'));const HistoryPage=/*#__PURE__*/React.lazy(()=>import('./pages/HistoryPage'));// 載入中元件\nconst LoadingSpinner=()=>/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-16 h-16 bg-red-500 rounded-full mb-4 mx-auto\",children:/*#__PURE__*/_jsx(Heart,{className:\"w-8 h-8 text-white animate-pulse\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-8 h-8 border-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"\\u8F09\\u5165\\u4E2D...\"})]})});// 錯誤邊界元件\nclass ErrorBoundary extends React.Component{constructor(props){super(props);this.state={hasError:false};}static getDerivedStateFromError(error){return{hasError:true,error};}componentDidCatch(error,errorInfo){console.error('Application error:',error,errorInfo);}render(){if(this.state.hasError){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-16 h-16 bg-red-500 rounded-full mb-6 mx-auto\",children:/*#__PURE__*/_jsx(Heart,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"\\u61C9\\u7528\\u7A0B\\u5F0F\\u767C\\u751F\\u932F\\u8AA4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\u5F88\\u62B1\\u6B49\\uFF0C\\u61C9\\u7528\\u7A0B\\u5F0F\\u9047\\u5230\\u4E86\\u554F\\u984C\\u3002\\u8ACB\\u91CD\\u65B0\\u6574\\u7406\\u9801\\u9762\\u518D\\u8A66\\u4E00\\u6B21\\u3002\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"w-full btn-primary\",children:\"\\u91CD\\u65B0\\u6574\\u7406\\u9801\\u9762\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.setState({hasError:false}),className:\"w-full btn-secondary\",children:\"\\u91CD\\u8A66\"})]}),process.env.NODE_ENV==='development'&&this.state.error&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-6 text-left bg-gray-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer font-medium text-gray-700 mb-2\",children:\"\\u932F\\u8AA4\\u8A73\\u60C5 (\\u958B\\u767C\\u6A21\\u5F0F)\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs text-red-600 overflow-auto\",children:this.state.error.toString()})]})]})});}return this.props.children;}}// 主應用程式元件\nconst App=()=>{return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingSpinner,{}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(HistoryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-center\",toastOptions:{duration:4000,style:{background:'#333',color:'#fff',fontSize:'14px',borderRadius:'8px',padding:'12px 16px',maxWidth:'90vw'},success:{iconTheme:{primary:'#10B981',secondary:'#fff'}},error:{iconTheme:{primary:'#EF4444',secondary:'#fff'},duration:6000},loading:{iconTheme:{primary:'#6B7280',secondary:'#fff'}}}})]})})});};export default App;","map":{"version":3,"names":["React","Suspense","BrowserRouter","Router","Routes","Route","Navigate","Toaster","Heart","jsx","_jsx","jsxs","_jsxs","HomePage","lazy","HistoryPage","LoadingSpinner","className","children","ErrorBoundary","Component","constructor","props","state","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","render","onClick","window","location","reload","setState","process","env","NODE_ENV","toString","App","fallback","path","element","to","replace","position","toastOptions","duration","style","background","color","fontSize","borderRadius","padding","maxWidth","success","iconTheme","primary","secondary","loading"],"sources":["C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/src/App.tsx"],"sourcesContent":["/**\n * 台灣醫療 AI 助手 - 主應用程式元件\n */\n\nimport React, { Suspense } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { Heart } from 'lucide-react';\n\n// 頁面元件 - 使用懶加載\nconst HomePage = React.lazy(() => import('./pages/HomePage'));\nconst HistoryPage = React.lazy(() => import('./pages/HistoryPage'));\n\n// 載入中元件\nconst LoadingSpinner: React.FC = () => (\n  <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n    <div className=\"text-center\">\n      <div className=\"flex items-center justify-center w-16 h-16 bg-red-500 rounded-full mb-4 mx-auto\">\n        <Heart className=\"w-8 h-8 text-white animate-pulse\" />\n      </div>\n      <div className=\"loading-spinner w-8 h-8 border-red-500 mx-auto mb-4\"></div>\n      <p className=\"text-gray-600\">載入中...</p>\n    </div>\n  </div>\n);\n\n// 錯誤邊界元件\nclass ErrorBoundary extends React.Component<\n  { children: React.ReactNode },\n  { hasError: boolean; error?: Error }\n> {\n  constructor(props: { children: React.ReactNode }) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): { hasError: boolean; error: Error } {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('Application error:', error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n          <div className=\"text-center max-w-md\">\n            <div className=\"flex items-center justify-center w-16 h-16 bg-red-500 rounded-full mb-6 mx-auto\">\n              <Heart className=\"w-8 h-8 text-white\" />\n            </div>\n            <h1 className=\"text-xl font-bold text-gray-900 mb-4\">\n              應用程式發生錯誤\n            </h1>\n            <p className=\"text-gray-600 mb-6\">\n              很抱歉，應用程式遇到了問題。請重新整理頁面再試一次。\n            </p>\n            <div className=\"space-y-3\">\n              <button\n                onClick={() => window.location.reload()}\n                className=\"w-full btn-primary\"\n              >\n                重新整理頁面\n              </button>\n              <button\n                onClick={() => this.setState({ hasError: false })}\n                className=\"w-full btn-secondary\"\n              >\n                重試\n              </button>\n            </div>\n            {process.env.NODE_ENV === 'development' && this.state.error && (\n              <details className=\"mt-6 text-left bg-gray-100 p-4 rounded-lg\">\n                <summary className=\"cursor-pointer font-medium text-gray-700 mb-2\">\n                  錯誤詳情 (開發模式)\n                </summary>\n                <pre className=\"text-xs text-red-600 overflow-auto\">\n                  {this.state.error.toString()}\n                </pre>\n              </details>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// 主應用程式元件\nconst App: React.FC = () => {\n  return (\n    <ErrorBoundary>\n      <Router>\n        <div className=\"App\">\n          {/* 主要路由 */}\n          <Suspense fallback={<LoadingSpinner />}>\n            <Routes>\n              {/* 首頁 - 症狀評估 */}\n              <Route path=\"/\" element={<HomePage />} />\n\n              {/* 歷史記錄頁面 */}\n              <Route path=\"/history\" element={<HistoryPage />} />\n\n              {/* 重新導向未知路由到首頁 */}\n              <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n            </Routes>\n          </Suspense>\n\n          {/* 全域通知系統 */}\n          <Toaster\n            position=\"top-center\"\n            toastOptions={{\n              duration: 4000,\n              style: {\n                background: '#333',\n                color: '#fff',\n                fontSize: '14px',\n                borderRadius: '8px',\n                padding: '12px 16px',\n                maxWidth: '90vw'\n              },\n              success: {\n                iconTheme: {\n                  primary: '#10B981',\n                  secondary: '#fff'\n                }\n              },\n              error: {\n                iconTheme: {\n                  primary: '#EF4444',\n                  secondary: '#fff'\n                },\n                duration: 6000\n              },\n              loading: {\n                iconTheme: {\n                  primary: '#6B7280',\n                  secondary: '#fff'\n                }\n              }\n            }}\n          />\n        </div>\n      </Router>\n    </ErrorBoundary>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}