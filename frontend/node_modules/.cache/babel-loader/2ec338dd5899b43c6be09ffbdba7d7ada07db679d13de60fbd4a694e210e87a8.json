{"ast":null,"code":"/**\n * API 服務層 - 與後端 FastAPI 通訊\n */\n\nimport axios from 'axios';\nimport { API_ENDPOINTS } from '../types';\n\n// 建立 axios 實例\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:8000',\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'zh-TW'\n  }\n});\n\n// 請求攔截器 - 加入請求 ID 和時間戳\napi.interceptors.request.use(config => {\n  var _config$method;\n  const requestId = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  config.headers['X-Request-ID'] = requestId;\n  config.headers['X-Client-Timestamp'] = new Date().toISOString();\n  console.log(`[API Request] ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`, {\n    requestId,\n    data: config.data\n  });\n  return config;\n}, error => {\n  console.error('[API Request Error]', error);\n  return Promise.reject(error);\n});\n\n// 回應攔截器 - 統一錯誤處理\napi.interceptors.response.use(response => {\n  console.log(`[API Response] ${response.status}`, {\n    requestId: response.headers['x-request-id'],\n    data: response.data\n  });\n  return response;\n}, error => {\n  var _error$response, _error$response2, _error$response2$data, _error$config;\n  console.error('[API Response Error]', {\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message,\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url\n  });\n\n  // 轉換錯誤訊息為繁體中文\n  const errorMessage = getErrorMessage(error);\n  error.message = errorMessage;\n  return Promise.reject(error);\n});\n\n/**\n * 將錯誤訊息轉換為使用者友善的繁體中文訊息\n */\nfunction getErrorMessage(error) {\n  var _error$response3, _error$response3$data, _error$response4;\n  if ((_error$response3 = error.response) !== null && _error$response3 !== void 0 && (_error$response3$data = _error$response3.data) !== null && _error$response3$data !== void 0 && _error$response3$data.message) {\n    return error.response.data.message;\n  }\n  switch ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) {\n    case 400:\n      return '請求參數有誤，請檢查輸入資料';\n    case 401:\n      return '未授權存取，請重新登入';\n    case 403:\n      return '沒有權限執行此操作';\n    case 404:\n      return '找不到相關資源';\n    case 429:\n      return '請求過於頻繁，請稍後再試';\n    case 500:\n      return '伺服器發生錯誤，請稍後再試';\n    case 502:\n    case 503:\n    case 504:\n      return '服務暫時無法使用，請稍後再試';\n    default:\n      if (error.code === 'NETWORK_ERROR' || error.message.includes('Network Error')) {\n        return '網路連線異常，請檢查網路設定';\n      }\n      if (error.code === 'ECONNABORTED') {\n        return '請求超時，請重試';\n      }\n      return '系統發生未知錯誤，請聯絡技術支援';\n  }\n}\n\n/**\n * 症狀分級評估 API\n */\nexport const triageApi = {\n  /**\n   * 快速症狀評估\n   */\n  async quickTriage(request) {\n    try {\n      const response = await api.post(API_ENDPOINTS.TRIAGE_QUICK, request);\n      return response.data;\n    } catch (error) {\n      console.error('[Triage API Error]', error);\n      throw error;\n    }\n  }\n};\n\n/**\n * 醫院搜尋 API\n */\nexport const hospitalApi = {\n  /**\n   * 搜尋附近醫院\n   */\n  async searchNearby(params) {\n    try {\n      var _params$departments;\n      const response = await api.get(API_ENDPOINTS.HOSPITALS_NEARBY, {\n        params: {\n          lat: params.latitude,\n          lng: params.longitude,\n          radius: params.radius || 5000,\n          limit: params.limit || 20,\n          departments: (_params$departments = params.departments) === null || _params$departments === void 0 ? void 0 : _params$departments.join(','),\n          emergency_only: params.emergency_only || false\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('[Hospital Search API Error]', error);\n      throw error;\n    }\n  },\n  /**\n   * 取得緊急醫療資訊\n   */\n  async getEmergencyInfo() {\n    try {\n      const response = await api.get(API_ENDPOINTS.EMERGENCY_INFO);\n      return response.data;\n    } catch (error) {\n      console.error('[Emergency Info API Error]', error);\n      throw error;\n    }\n  }\n};\n\n/**\n * 地理位置服務\n */\nexport const locationApi = {\n  /**\n   * 取得使用者目前位置\n   */\n  async getCurrentLocation() {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('此瀏覽器不支援地理定位功能'));\n        return;\n      }\n      const options = {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 60000 // 1分鐘內的快取位置可接受\n      };\n      navigator.geolocation.getCurrentPosition(position => {\n        resolve({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude\n        });\n      }, error => {\n        let message = '無法取得位置資訊';\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            message = '使用者拒絕了地理定位請求';\n            break;\n          case error.POSITION_UNAVAILABLE:\n            message = '位置資訊不可用';\n            break;\n          case error.TIMEOUT:\n            message = '定位請求超時';\n            break;\n        }\n        reject(new Error(message));\n      }, options);\n    });\n  },\n  /**\n   * 計算兩點間距離（公里）\n   */\n  calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371; // 地球半徑（公里）\n    const dLat = this.degToRad(lat2 - lat1);\n    const dLon = this.degToRad(lon2 - lon1);\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(this.degToRad(lat1)) * Math.cos(this.degToRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  },\n  degToRad(deg) {\n    return deg * (Math.PI / 180);\n  }\n};\n\n/**\n * 緊急撥號服務\n */\nexport const emergencyApi = {\n  /**\n   * 撥打緊急電話\n   * 注意：在網頁環境中，只能開啟撥號程式，無法直接撥號\n   */\n  call(number) {\n    try {\n      // 檢查是否為行動裝置\n      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n      if (isMobile) {\n        // 行動裝置直接撥號\n        window.location.href = `tel:${number}`;\n      } else {\n        // 桌面裝置顯示電話號碼\n        alert(`請撥打：${number}\\n\\n如果您在緊急狀況中，請使用手機撥打此號碼。`);\n      }\n    } catch (error) {\n      console.error('[Emergency Call Error]', error);\n      alert(`緊急電話：${number}\\n請立即使用電話撥打此號碼。`);\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_ENDPOINTS","api","create","baseURL","process","env","NODE_ENV","timeout","headers","interceptors","request","use","config","_config$method","requestId","Date","now","Math","random","toString","substr","toISOString","console","log","method","toUpperCase","url","data","error","Promise","reject","response","status","_error$response","_error$response2","_error$response2$data","_error$config","message","errorMessage","getErrorMessage","_error$response3","_error$response3$data","_error$response4","code","includes","triageApi","quickTriage","post","TRIAGE_QUICK","hospitalApi","searchNearby","params","_params$departments","get","HOSPITALS_NEARBY","lat","latitude","lng","longitude","radius","limit","departments","join","emergency_only","getEmergencyInfo","EMERGENCY_INFO","locationApi","getCurrentLocation","resolve","navigator","geolocation","Error","options","enableHighAccuracy","maximumAge","getCurrentPosition","position","coords","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","degToRad","dLon","a","sin","cos","c","atan2","sqrt","deg","PI","emergencyApi","call","number","isMobile","test","userAgent","window","location","href","alert"],"sources":["C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/src/services/api.ts"],"sourcesContent":["/**\n * API 服務層 - 與後端 FastAPI 通訊\n */\n\nimport axios, { AxiosResponse } from 'axios';\nimport {\n  TriageRequest,\n  TriageResponse,\n  Hospital,\n  EmergencyInfo,\n  API_ENDPOINTS\n} from '../types';\n\n// 建立 axios 實例\nconst api = axios.create({\n  baseURL: process.env.NODE_ENV === 'production' ? '/api' : 'http://localhost:8000',\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'zh-TW'\n  }\n});\n\n// 請求攔截器 - 加入請求 ID 和時間戳\napi.interceptors.request.use(\n  (config) => {\n    const requestId = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    config.headers['X-Request-ID'] = requestId;\n    config.headers['X-Client-Timestamp'] = new Date().toISOString();\n\n    console.log(`[API Request] ${config.method?.toUpperCase()} ${config.url}`, {\n      requestId,\n      data: config.data\n    });\n\n    return config;\n  },\n  (error) => {\n    console.error('[API Request Error]', error);\n    return Promise.reject(error);\n  }\n);\n\n// 回應攔截器 - 統一錯誤處理\napi.interceptors.response.use(\n  (response: AxiosResponse) => {\n    console.log(`[API Response] ${response.status}`, {\n      requestId: response.headers['x-request-id'],\n      data: response.data\n    });\n    return response;\n  },\n  (error) => {\n    console.error('[API Response Error]', {\n      status: error.response?.status,\n      message: error.response?.data?.message || error.message,\n      url: error.config?.url\n    });\n\n    // 轉換錯誤訊息為繁體中文\n    const errorMessage = getErrorMessage(error);\n    error.message = errorMessage;\n\n    return Promise.reject(error);\n  }\n);\n\n/**\n * 將錯誤訊息轉換為使用者友善的繁體中文訊息\n */\nfunction getErrorMessage(error: any): string {\n  if (error.response?.data?.message) {\n    return error.response.data.message;\n  }\n\n  switch (error.response?.status) {\n    case 400:\n      return '請求參數有誤，請檢查輸入資料';\n    case 401:\n      return '未授權存取，請重新登入';\n    case 403:\n      return '沒有權限執行此操作';\n    case 404:\n      return '找不到相關資源';\n    case 429:\n      return '請求過於頻繁，請稍後再試';\n    case 500:\n      return '伺服器發生錯誤，請稍後再試';\n    case 502:\n    case 503:\n    case 504:\n      return '服務暫時無法使用，請稍後再試';\n    default:\n      if (error.code === 'NETWORK_ERROR' || error.message.includes('Network Error')) {\n        return '網路連線異常，請檢查網路設定';\n      }\n      if (error.code === 'ECONNABORTED') {\n        return '請求超時，請重試';\n      }\n      return '系統發生未知錯誤，請聯絡技術支援';\n  }\n}\n\n/**\n * 症狀分級評估 API\n */\nexport const triageApi = {\n  /**\n   * 快速症狀評估\n   */\n  async quickTriage(request: TriageRequest): Promise<TriageResponse> {\n    try {\n      const response = await api.post<TriageResponse>(\n        API_ENDPOINTS.TRIAGE_QUICK,\n        request\n      );\n      return response.data;\n    } catch (error) {\n      console.error('[Triage API Error]', error);\n      throw error;\n    }\n  }\n};\n\n/**\n * 醫院搜尋 API\n */\nexport const hospitalApi = {\n  /**\n   * 搜尋附近醫院\n   */\n  async searchNearby(params: {\n    latitude: number;\n    longitude: number;\n    radius?: number;\n    limit?: number;\n    departments?: string[];\n    emergency_only?: boolean;\n  }): Promise<Hospital[]> {\n    try {\n      const response = await api.get<Hospital[]>(API_ENDPOINTS.HOSPITALS_NEARBY, {\n        params: {\n          lat: params.latitude,\n          lng: params.longitude,\n          radius: params.radius || 5000,\n          limit: params.limit || 20,\n          departments: params.departments?.join(','),\n          emergency_only: params.emergency_only || false\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('[Hospital Search API Error]', error);\n      throw error;\n    }\n  },\n\n  /**\n   * 取得緊急醫療資訊\n   */\n  async getEmergencyInfo(): Promise<EmergencyInfo> {\n    try {\n      const response = await api.get<EmergencyInfo>(API_ENDPOINTS.EMERGENCY_INFO);\n      return response.data;\n    } catch (error) {\n      console.error('[Emergency Info API Error]', error);\n      throw error;\n    }\n  }\n};\n\n/**\n * 地理位置服務\n */\nexport const locationApi = {\n  /**\n   * 取得使用者目前位置\n   */\n  async getCurrentLocation(): Promise<{ latitude: number; longitude: number }> {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('此瀏覽器不支援地理定位功能'));\n        return;\n      }\n\n      const options: PositionOptions = {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 60000 // 1分鐘內的快取位置可接受\n      };\n\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          resolve({\n            latitude: position.coords.latitude,\n            longitude: position.coords.longitude\n          });\n        },\n        (error) => {\n          let message = '無法取得位置資訊';\n\n          switch (error.code) {\n            case error.PERMISSION_DENIED:\n              message = '使用者拒絕了地理定位請求';\n              break;\n            case error.POSITION_UNAVAILABLE:\n              message = '位置資訊不可用';\n              break;\n            case error.TIMEOUT:\n              message = '定位請求超時';\n              break;\n          }\n\n          reject(new Error(message));\n        },\n        options\n      );\n    });\n  },\n\n  /**\n   * 計算兩點間距離（公里）\n   */\n  calculateDistance(\n    lat1: number,\n    lon1: number,\n    lat2: number,\n    lon2: number\n  ): number {\n    const R = 6371; // 地球半徑（公里）\n    const dLat = this.degToRad(lat2 - lat1);\n    const dLon = this.degToRad(lon2 - lon1);\n\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(this.degToRad(lat1)) * Math.cos(this.degToRad(lat2)) *\n      Math.sin(dLon / 2) * Math.sin(dLon / 2);\n\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c;\n  },\n\n  degToRad(deg: number): number {\n    return deg * (Math.PI / 180);\n  }\n};\n\n/**\n * 緊急撥號服務\n */\nexport const emergencyApi = {\n  /**\n   * 撥打緊急電話\n   * 注意：在網頁環境中，只能開啟撥號程式，無法直接撥號\n   */\n  call(number: string): void {\n    try {\n      // 檢查是否為行動裝置\n      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      );\n\n      if (isMobile) {\n        // 行動裝置直接撥號\n        window.location.href = `tel:${number}`;\n      } else {\n        // 桌面裝置顯示電話號碼\n        alert(`請撥打：${number}\\n\\n如果您在緊急狀況中，請使用手機撥打此號碼。`);\n      }\n    } catch (error) {\n      console.error('[Emergency Call Error]', error);\n      alert(`緊急電話：${number}\\n請立即使用電話撥打此號碼。`);\n    }\n  }\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}