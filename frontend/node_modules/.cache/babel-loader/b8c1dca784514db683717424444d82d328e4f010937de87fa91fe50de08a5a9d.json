{"ast":null,"code":"import _objectSpread from\"C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * È¶ñÈ†ÅÂÖÉ‰ª∂ - ÁóáÁãÄË©ï‰º∞‰∏ª‰ªãÈù¢\n */import React,{useCallback,useEffect}from'react';import{useNavigate}from'react-router-dom';import toast from'react-hot-toast';import Header from'../components/Layout/Header';import SymptomForm from'../components/SymptomForm/SymptomForm';import TriageResult from'../components/TriageResult/TriageResult';import HospitalList from'../components/HospitalList/HospitalList';import{useGeolocation}from'../hooks/useGeolocation';import{useSymptomQuery,useTriageResult,useHospitals,useLoadingState,useSymptomHistory,useLocation}from'../stores/useAppStore';import{triageApi,hospitalApi,emergencyApi,locationApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const navigate=useNavigate();// ÁãÄÊÖãÁÆ°ÁêÜ\nconst{currentQuery}=useSymptomQuery();const{latestResult,setLatestResult,clearLatestResult}=useTriageResult();const{nearbyHospitals,setNearbyHospitals,clearNearbyHospitals}=useHospitals();const{isLoading,error,setLoading,setError}=useLoadingState();const{addSymptomHistory}=useSymptomHistory();const{userLocation}=useLocation();// Âú∞ÁêÜ‰ΩçÁΩÆ\nconst{getCurrentLocation,loading:locationLoading,error:locationError}=useGeolocation({onSuccess:location=>{console.log('Location obtained:',location);},onError:error=>{console.warn('Location error:',error);}});// ËôïÁêÜÁóáÁãÄË©ï‰º∞Êèê‰∫§\nconst handleSymptomSubmit=useCallback(async request=>{setLoading(true);setError(null);clearLatestResult();clearNearbyHospitals();try{// Â¶ÇÊûúÈúÄË¶Å‰ΩçÁΩÆË≥áË®ä‰ΩÜÂ∞öÊú™ÂèñÂæóÔºåÂÖàÂòóË©¶ÂèñÂæó‰ΩçÁΩÆ\nif(request.include_nearby_hospitals&&!request.location&&userLocation){request.location=userLocation;}// Âü∑Ë°åÁóáÁãÄË©ï‰º∞\nconst result=await triageApi.quickTriage(request);setLatestResult(result);// Âä†ÂÖ•Ê≠∑Âè≤Ë®òÈåÑ\naddSymptomHistory({symptom_text:request.symptom_text,triage_level:result.triage_level,timestamp:new Date().toISOString(),location:request.location});// Â¶ÇÊûúÊúâÈôÑËøëÈÜ´Èô¢Ë≥áÊñôÔºåÁõ¥Êé•Ë®≠ÂÆö\nif(result.nearby_hospitals){setNearbyHospitals(result.nearby_hospitals);}// ÊàêÂäüÊèêÁ§∫\ntoast.success('ÁóáÁãÄË©ï‰º∞ÂÆåÊàê');// Â¶ÇÊûúÊòØÁ∑äÊÄ•ÊÉÖÊ≥ÅÔºåÈ°ØÁ§∫ÁâπÂà•ÊèêÈÜí\nif(result.triage_level==='emergency'){toast.error('Ê™¢Ê∏¨Âà∞Á∑äÊÄ•ÁãÄÊ≥ÅÔºÅË´ãÁ´ãÂç≥Êí•Êâì119',{duration:10000,position:'top-center'});}}catch(err){const message=err instanceof Error?err.message:'Ë©ï‰º∞Â§±ÊïóÔºåË´ãÈáçË©¶';setError(message);toast.error(message);console.error('Triage submission error:',err);}finally{setLoading(false);}},[setLoading,setError,clearLatestResult,clearNearbyHospitals,setLatestResult,addSymptomHistory,setNearbyHospitals,userLocation]);// ËôïÁêÜÂ∞ãÊâæÈôÑËøëÈÜ´Èô¢\nconst handleFindHospitals=useCallback(async()=>{if(!userLocation){toast.error('Ë´ãÂÖàÂÖÅË®±‰ΩçÁΩÆÂ≠òÂèñ');return;}setLoading(true);try{const hospitals=await hospitalApi.searchNearby({latitude:userLocation.latitude,longitude:userLocation.longitude,radius:10000,// 10km\nlimit:20,departments:latestResult===null||latestResult===void 0?void 0:latestResult.recommended_departments});// Ë®àÁÆóË∑ùÈõ¢‰∏¶ÊéíÂ∫è\nconst hospitalsWithDistance=hospitals.map(hospital=>_objectSpread(_objectSpread({},hospital),{},{distance:locationApi.calculateDistance(userLocation.latitude,userLocation.longitude,hospital.lat,hospital.lng)})).sort((a,b)=>a.distance-b.distance);setNearbyHospitals(hospitalsWithDistance);toast.success(\"\\u627E\\u5230 \".concat(hospitals.length,\" \\u5BB6\\u9644\\u8FD1\\u91AB\\u9662\"));}catch(err){const message=err instanceof Error?err.message:'ÊêúÂ∞ãÈÜ´Èô¢Â§±Êïó';toast.error(message);console.error('Hospital search error:',err);}finally{setLoading(false);}},[userLocation,latestResult===null||latestResult===void 0?void 0:latestResult.recommended_departments,setLoading,setNearbyHospitals]);// ËôïÁêÜÁ∑äÊÄ•Êí•Ëôü\nconst handleEmergencyCall=useCallback(number=>{emergencyApi.call(number);// Ë®òÈåÑÁ∑äÊÄ•Êí•Ëôü‰∫ã‰ª∂\nconsole.log(\"Emergency call initiated: \".concat(number));toast.success(\"\\u6B63\\u5728\\u64A5\\u6253 \".concat(number),{icon:'üìû'});},[]);// ËôïÁêÜÈÜ´Èô¢ÈÅ∏Êìá\nconst handleHospitalSelect=useCallback(hospital=>{console.log('Hospital selected:',hospital);toast.success(\"\\u5DF2\\u9078\\u64C7\\uFF1A\".concat(hospital.name));},[]);// ËôïÁêÜÈÜ´Èô¢ÈõªË©±Êí•Êâì\nconst handleHospitalCall=useCallback(phone=>{emergencyApi.call(phone);toast.success(\"\\u6B63\\u5728\\u64A5\\u6253\\uFF1A\".concat(phone),{icon:'üìû'});},[]);// ËôïÁêÜÈÜ´Èô¢Â∞éËà™\nconst handleHospitalNavigate=useCallback(hospital=>{const googleMapsUrl=\"https://www.google.com/maps/dir/?api=1&destination=\".concat(hospital.lat,\",\").concat(hospital.lng,\"&destination_place_id=\").concat(hospital.id);try{window.open(googleMapsUrl,'_blank');toast.success(\"\\u6B63\\u5728\\u958B\\u555F\\u5C0E\\u822A\\u81F3\\uFF1A\".concat(hospital.name));}catch(err){var _navigator$clipboard;// Â¶ÇÊûúÁÑ°Ê≥ïÈñãÂïüÔºåË§áË£ΩÂú∞ÂùÄÂà∞Ââ™Ë≤ºÁ∞ø\n(_navigator$clipboard=navigator.clipboard)===null||_navigator$clipboard===void 0?void 0:_navigator$clipboard.writeText(hospital.address);toast.success(\"\\u5730\\u5740\\u5DF2\\u8907\\u88FD\\uFF1A\".concat(hospital.address));}},[]);// ËôïÁêÜ‰ΩçÁΩÆÈªûÊìä\nconst handleLocationClick=useCallback(()=>{if(locationLoading)return;getCurrentLocation();},[getCurrentLocation,locationLoading]);// ËôïÁêÜÊ≠∑Âè≤Ë®òÈåÑÈªûÊìä\nconst handleHistoryClick=useCallback(()=>{navigate('/history');},[navigate]);// Ëá™ÂãïÂèñÂæó‰ΩçÁΩÆÔºàÈ¶ñÊ¨°ËºâÂÖ•Ôºâ\nuseEffect(()=>{if(!userLocation&&!locationError){// Âª∂ÈÅ≤‰∏Ä‰∏ãÂÜçËá™ÂãïÂèñÂæó‰ΩçÁΩÆÔºåÈÅøÂÖçÂπ≤Êìæ‰ΩøÁî®ËÄÖ\nconst timer=setTimeout(()=>{getCurrentLocation();},1000);return()=>clearTimeout(timer);}},[userLocation,locationError,getCurrentLocation]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Header,{onLocationClick:handleLocationClick,onHistoryClick:handleHistoryClick}),/*#__PURE__*/_jsxs(\"main\",{className:\"container-responsive py-6 space-y-6\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4 animate-fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"animate-fade-in\",children:/*#__PURE__*/_jsx(SymptomForm,{onSubmit:handleSymptomSubmit})}),latestResult&&/*#__PURE__*/_jsx(\"div\",{className:\"animate-slide-up\",children:/*#__PURE__*/_jsx(TriageResult,{result:latestResult,onFindHospitals:handleFindHospitals,onEmergencyCall:handleEmergencyCall})}),nearbyHospitals.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"animate-slide-up\",children:/*#__PURE__*/_jsx(HospitalList,{hospitals:nearbyHospitals,userLocation:userLocation,loading:isLoading,onHospitalSelect:handleHospitalSelect,onCallHospital:handleHospitalCall,onNavigate:handleHospitalNavigate})}),isLoading&&!latestResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-8 h-8 border-red-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-gray-600\",children:\"\\u6B63\\u5728\\u8A55\\u4F30\\u75C7\\u72C0...\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"safe-bottom\"})]});};export default HomePage;","map":{"version":3,"names":["React","useCallback","useEffect","useNavigate","toast","Header","SymptomForm","TriageResult","HospitalList","useGeolocation","useSymptomQuery","useTriageResult","useHospitals","useLoadingState","useSymptomHistory","useLocation","triageApi","hospitalApi","emergencyApi","locationApi","jsx","_jsx","jsxs","_jsxs","HomePage","navigate","currentQuery","latestResult","setLatestResult","clearLatestResult","nearbyHospitals","setNearbyHospitals","clearNearbyHospitals","isLoading","error","setLoading","setError","addSymptomHistory","userLocation","getCurrentLocation","loading","locationLoading","locationError","onSuccess","location","console","log","onError","warn","handleSymptomSubmit","request","include_nearby_hospitals","result","quickTriage","symptom_text","triage_level","timestamp","Date","toISOString","nearby_hospitals","success","duration","position","err","message","Error","handleFindHospitals","hospitals","searchNearby","latitude","longitude","radius","limit","departments","recommended_departments","hospitalsWithDistance","map","hospital","_objectSpread","distance","calculateDistance","lat","lng","sort","a","b","concat","length","handleEmergencyCall","number","call","icon","handleHospitalSelect","name","handleHospitalCall","phone","handleHospitalNavigate","googleMapsUrl","id","window","open","_navigator$clipboard","navigator","clipboard","writeText","address","handleLocationClick","handleHistoryClick","timer","setTimeout","clearTimeout","className","children","onLocationClick","onHistoryClick","viewBox","fill","fillRule","d","clipRule","onSubmit","onFindHospitals","onEmergencyCall","onHospitalSelect","onCallHospital","onNavigate"],"sources":["C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/src/pages/HomePage.tsx"],"sourcesContent":["/**\n * È¶ñÈ†ÅÂÖÉ‰ª∂ - ÁóáÁãÄË©ï‰º∞‰∏ª‰ªãÈù¢\n */\n\nimport React, { useCallback, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport toast from 'react-hot-toast';\n\nimport Header from '../components/Layout/Header';\nimport SymptomForm from '../components/SymptomForm/SymptomForm';\nimport TriageResult from '../components/TriageResult/TriageResult';\nimport HospitalList from '../components/HospitalList/HospitalList';\n\nimport { useGeolocation } from '../hooks/useGeolocation';\nimport {\n  useSymptomQuery,\n  useTriageResult,\n  useHospitals,\n  useLoadingState,\n  useSymptomHistory,\n  useLocation\n} from '../stores/useAppStore';\n\nimport { triageApi, hospitalApi, emergencyApi, locationApi } from '../services/api';\nimport { TriageRequest, Hospital } from '../types';\n\nconst HomePage: React.FC = () => {\n  const navigate = useNavigate();\n\n  // ÁãÄÊÖãÁÆ°ÁêÜ\n  const { currentQuery } = useSymptomQuery();\n  const { latestResult, setLatestResult, clearLatestResult } = useTriageResult();\n  const { nearbyHospitals, setNearbyHospitals, clearNearbyHospitals } = useHospitals();\n  const { isLoading, error, setLoading, setError } = useLoadingState();\n  const { addSymptomHistory } = useSymptomHistory();\n  const { userLocation } = useLocation();\n\n  // Âú∞ÁêÜ‰ΩçÁΩÆ\n  const {\n    getCurrentLocation,\n    loading: locationLoading,\n    error: locationError\n  } = useGeolocation({\n    onSuccess: (location) => {\n      console.log('Location obtained:', location);\n    },\n    onError: (error) => {\n      console.warn('Location error:', error);\n    }\n  });\n\n  // ËôïÁêÜÁóáÁãÄË©ï‰º∞Êèê‰∫§\n  const handleSymptomSubmit = useCallback(async (request: TriageRequest) => {\n    setLoading(true);\n    setError(null);\n    clearLatestResult();\n    clearNearbyHospitals();\n\n    try {\n      // Â¶ÇÊûúÈúÄË¶Å‰ΩçÁΩÆË≥áË®ä‰ΩÜÂ∞öÊú™ÂèñÂæóÔºåÂÖàÂòóË©¶ÂèñÂæó‰ΩçÁΩÆ\n      if (request.include_nearby_hospitals && !request.location && userLocation) {\n        request.location = userLocation;\n      }\n\n      // Âü∑Ë°åÁóáÁãÄË©ï‰º∞\n      const result = await triageApi.quickTriage(request);\n      setLatestResult(result);\n\n      // Âä†ÂÖ•Ê≠∑Âè≤Ë®òÈåÑ\n      addSymptomHistory({\n        symptom_text: request.symptom_text,\n        triage_level: result.triage_level,\n        timestamp: new Date().toISOString(),\n        location: request.location\n      });\n\n      // Â¶ÇÊûúÊúâÈôÑËøëÈÜ´Èô¢Ë≥áÊñôÔºåÁõ¥Êé•Ë®≠ÂÆö\n      if (result.nearby_hospitals) {\n        setNearbyHospitals(result.nearby_hospitals);\n      }\n\n      // ÊàêÂäüÊèêÁ§∫\n      toast.success('ÁóáÁãÄË©ï‰º∞ÂÆåÊàê');\n\n      // Â¶ÇÊûúÊòØÁ∑äÊÄ•ÊÉÖÊ≥ÅÔºåÈ°ØÁ§∫ÁâπÂà•ÊèêÈÜí\n      if (result.triage_level === 'emergency') {\n        toast.error('Ê™¢Ê∏¨Âà∞Á∑äÊÄ•ÁãÄÊ≥ÅÔºÅË´ãÁ´ãÂç≥Êí•Êâì119', {\n          duration: 10000,\n          position: 'top-center'\n        });\n      }\n\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Ë©ï‰º∞Â§±ÊïóÔºåË´ãÈáçË©¶';\n      setError(message);\n      toast.error(message);\n      console.error('Triage submission error:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [\n    setLoading,\n    setError,\n    clearLatestResult,\n    clearNearbyHospitals,\n    setLatestResult,\n    addSymptomHistory,\n    setNearbyHospitals,\n    userLocation\n  ]);\n\n  // ËôïÁêÜÂ∞ãÊâæÈôÑËøëÈÜ´Èô¢\n  const handleFindHospitals = useCallback(async () => {\n    if (!userLocation) {\n      toast.error('Ë´ãÂÖàÂÖÅË®±‰ΩçÁΩÆÂ≠òÂèñ');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const hospitals = await hospitalApi.searchNearby({\n        latitude: userLocation.latitude,\n        longitude: userLocation.longitude,\n        radius: 10000, // 10km\n        limit: 20,\n        departments: latestResult?.recommended_departments\n      });\n\n      // Ë®àÁÆóË∑ùÈõ¢‰∏¶ÊéíÂ∫è\n      const hospitalsWithDistance = hospitals.map(hospital => ({\n        ...hospital,\n        distance: locationApi.calculateDistance(\n          userLocation.latitude,\n          userLocation.longitude,\n          hospital.lat,\n          hospital.lng\n        )\n      })).sort((a, b) => a.distance - b.distance);\n\n      setNearbyHospitals(hospitalsWithDistance);\n      toast.success(`ÊâæÂà∞ ${hospitals.length} ÂÆ∂ÈôÑËøëÈÜ´Èô¢`);\n\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'ÊêúÂ∞ãÈÜ´Èô¢Â§±Êïó';\n      toast.error(message);\n      console.error('Hospital search error:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [userLocation, latestResult?.recommended_departments, setLoading, setNearbyHospitals]);\n\n  // ËôïÁêÜÁ∑äÊÄ•Êí•Ëôü\n  const handleEmergencyCall = useCallback((number: string) => {\n    emergencyApi.call(number);\n\n    // Ë®òÈåÑÁ∑äÊÄ•Êí•Ëôü‰∫ã‰ª∂\n    console.log(`Emergency call initiated: ${number}`);\n    toast.success(`Ê≠£Âú®Êí•Êâì ${number}`, {\n      icon: 'üìû'\n    });\n  }, []);\n\n  // ËôïÁêÜÈÜ´Èô¢ÈÅ∏Êìá\n  const handleHospitalSelect = useCallback((hospital: Hospital) => {\n    console.log('Hospital selected:', hospital);\n    toast.success(`Â∑≤ÈÅ∏ÊìáÔºö${hospital.name}`);\n  }, []);\n\n  // ËôïÁêÜÈÜ´Èô¢ÈõªË©±Êí•Êâì\n  const handleHospitalCall = useCallback((phone: string) => {\n    emergencyApi.call(phone);\n    toast.success(`Ê≠£Âú®Êí•ÊâìÔºö${phone}`, {\n      icon: 'üìû'\n    });\n  }, []);\n\n  // ËôïÁêÜÈÜ´Èô¢Â∞éËà™\n  const handleHospitalNavigate = useCallback((hospital: Hospital) => {\n    const googleMapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${hospital.lat},${hospital.lng}&destination_place_id=${hospital.id}`;\n\n    try {\n      window.open(googleMapsUrl, '_blank');\n      toast.success(`Ê≠£Âú®ÈñãÂïüÂ∞éËà™Ëá≥Ôºö${hospital.name}`);\n    } catch (err) {\n      // Â¶ÇÊûúÁÑ°Ê≥ïÈñãÂïüÔºåË§áË£ΩÂú∞ÂùÄÂà∞Ââ™Ë≤ºÁ∞ø\n      navigator.clipboard?.writeText(hospital.address);\n      toast.success(`Âú∞ÂùÄÂ∑≤Ë§áË£ΩÔºö${hospital.address}`);\n    }\n  }, []);\n\n  // ËôïÁêÜ‰ΩçÁΩÆÈªûÊìä\n  const handleLocationClick = useCallback(() => {\n    if (locationLoading) return;\n    getCurrentLocation();\n  }, [getCurrentLocation, locationLoading]);\n\n  // ËôïÁêÜÊ≠∑Âè≤Ë®òÈåÑÈªûÊìä\n  const handleHistoryClick = useCallback(() => {\n    navigate('/history');\n  }, [navigate]);\n\n  // Ëá™ÂãïÂèñÂæó‰ΩçÁΩÆÔºàÈ¶ñÊ¨°ËºâÂÖ•Ôºâ\n  useEffect(() => {\n    if (!userLocation && !locationError) {\n      // Âª∂ÈÅ≤‰∏Ä‰∏ãÂÜçËá™ÂãïÂèñÂæó‰ΩçÁΩÆÔºåÈÅøÂÖçÂπ≤Êìæ‰ΩøÁî®ËÄÖ\n      const timer = setTimeout(() => {\n        getCurrentLocation();\n      }, 1000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [userLocation, locationError, getCurrentLocation]);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Ê®ôÈ°åÂàó */}\n      <Header\n        onLocationClick={handleLocationClick}\n        onHistoryClick={handleHistoryClick}\n      />\n\n      {/* ‰∏ªË¶ÅÂÖßÂÆπ */}\n      <main className=\"container-responsive py-6 space-y-6\">\n        {/* ÈåØË™§Ë®äÊÅØ */}\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 animate-fade-in\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-red-800\">{error}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* ÁóáÁãÄËº∏ÂÖ•Ë°®ÂñÆ */}\n        <div className=\"animate-fade-in\">\n          <SymptomForm onSubmit={handleSymptomSubmit} />\n        </div>\n\n        {/* ÂàÜÁ¥öÁµêÊûú */}\n        {latestResult && (\n          <div className=\"animate-slide-up\">\n            <TriageResult\n              result={latestResult}\n              onFindHospitals={handleFindHospitals}\n              onEmergencyCall={handleEmergencyCall}\n            />\n          </div>\n        )}\n\n        {/* ÈôÑËøëÈÜ´Èô¢ÂàóË°® */}\n        {nearbyHospitals.length > 0 && (\n          <div className=\"animate-slide-up\">\n            <HospitalList\n              hospitals={nearbyHospitals}\n              userLocation={userLocation}\n              loading={isLoading}\n              onHospitalSelect={handleHospitalSelect}\n              onCallHospital={handleHospitalCall}\n              onNavigate={handleHospitalNavigate}\n            />\n          </div>\n        )}\n\n        {/* ËºâÂÖ•ÁãÄÊÖã */}\n        {isLoading && !latestResult && (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"loading-spinner w-8 h-8 border-red-500\"></div>\n            <span className=\"ml-3 text-gray-600\">Ê≠£Âú®Ë©ï‰º∞ÁóáÁãÄ...</span>\n          </div>\n        )}\n      </main>\n\n      {/* Â∫ïÈÉ®ÂÆâÂÖ®ÂçÄÂüü */}\n      <div className=\"safe-bottom\"></div>\n    </div>\n  );\n};\n\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}