{"ast":null,"code":"/**\n * 分級結果顯示元件\n */import React from'react';import{AlertTriangle,Clock,MapPin,Info}from'lucide-react';import{TRIAGE_LEVEL_CONFIG,TriageLevel}from'../../types';import EmergencyActions from'./EmergencyActions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TriageResult=_ref=>{let{result,onFindHospitals,onEmergencyCall}=_ref;const levelConfig=TRIAGE_LEVEL_CONFIG[result.triage_level]||TRIAGE_LEVEL_CONFIG[TriageLevel.OUTPATIENT];const isEmergency=result.triage_level===TriageLevel.EMERGENCY;const isUrgent=result.triage_level===TriageLevel.URGENT;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(levelConfig.bgColor,\" \").concat(levelConfig.borderColor,\" border-b px-6 py-4\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:levelConfig.icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-bold \".concat(levelConfig.textColor),children:[levelConfig.label,\"\\u7B49\\u7D1A\"]}),result.confidence_score&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"\\u4FE1\\u5FC3\\u5EA6\\uFF1A\",Math.round(result.confidence_score*100),\"%\"]})]})]}),result.estimated_wait_time&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 mr-1\"}),\"\\u9810\\u4F30\\u7B49\\u5019\\uFF1A\",result.estimated_wait_time]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[(isEmergency||isUrgent)&&/*#__PURE__*/_jsx(EmergencyActions,{emergencyNumbers:result.emergency_numbers,onCall:onEmergencyCall,isEmergency:isEmergency}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Info,{className:\"w-4 h-4 mr-1\"}),\"\\u91AB\\u7642\\u5EFA\\u8B70\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:result.advice})})]}),result.detected_symptoms.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"\\u6AA2\\u6E2C\\u5230\\u7684\\u75C7\\u72C0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:result.detected_symptoms.map((symptom,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800\",children:symptom},index))})]}),result.recommended_departments&&result.recommended_departments.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"\\u5EFA\\u8B70\\u79D1\\u5225\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:result.recommended_departments.map((dept,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800\",children:[\"\\uD83C\\uDFE5 \",dept]},index))})]}),result.next_steps.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:\"\\u5EFA\\u8B70\\u8655\\u7406\\u6B65\\u9A5F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:result.next_steps.map((step,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\\n                    flex items-center justify-center w-6 h-6 rounded-full text-xs font-medium text-white\\n                    \".concat(isEmergency?'bg-red-500':isUrgent?'bg-orange-500':'bg-blue-500',\"\\n                  \"),children:index+1}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-800 flex-1\",children:step})]},index))})]}),!isEmergency&&onFindHospitals&&/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t border-gray-100\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:onFindHospitals,className:\"w-full flex items-center justify-center px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 mr-2\"}),\"\\u5C0B\\u627E\\u9644\\u8FD1\\u91AB\\u9662\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4 text-yellow-600 mt-0.5 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-yellow-800\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium mb-1\",children:\"\\u514D\\u8CAC\\u8072\\u660E\\uFF1A\"}),/*#__PURE__*/_jsx(\"p\",{children:result.disclaimer})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 flex items-center justify-between border-t border-gray-100 pt-4\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u8A55\\u4F30ID: \",result.request_id]}),/*#__PURE__*/_jsx(\"span\",{children:new Date(result.timestamp).toLocaleString('zh-TW')})]})]})]});};export default TriageResult;","map":{"version":3,"names":["React","AlertTriangle","Clock","MapPin","Info","TRIAGE_LEVEL_CONFIG","TriageLevel","EmergencyActions","jsx","_jsx","jsxs","_jsxs","TriageResult","_ref","result","onFindHospitals","onEmergencyCall","levelConfig","triage_level","OUTPATIENT","isEmergency","EMERGENCY","isUrgent","URGENT","className","children","concat","bgColor","borderColor","icon","textColor","label","confidence_score","Math","round","estimated_wait_time","emergencyNumbers","emergency_numbers","onCall","advice","detected_symptoms","length","map","symptom","index","recommended_departments","dept","next_steps","step","onClick","disclaimer","request_id","Date","timestamp","toLocaleString"],"sources":["C:/Users/thc1006/Desktop/dev/NYCU-Med-AI-Agent/frontend/src/components/TriageResult/TriageResult.tsx"],"sourcesContent":["/**\n * 分級結果顯示元件\n */\n\nimport React from 'react';\nimport { AlertTriangle, Clock, MapPin, Phone, CheckCircle, Info } from 'lucide-react';\nimport { TriageResponse, TRIAGE_LEVEL_CONFIG, TriageLevel } from '../../types';\nimport EmergencyActions from './EmergencyActions';\n\ninterface TriageResultProps {\n  result: TriageResponse;\n  onFindHospitals?: () => void;\n  onEmergencyCall?: (number: string) => void;\n}\n\nconst TriageResult: React.FC<TriageResultProps> = ({\n  result,\n  onFindHospitals,\n  onEmergencyCall\n}) => {\n  const levelConfig = TRIAGE_LEVEL_CONFIG[result.triage_level as TriageLevel] ||\n    TRIAGE_LEVEL_CONFIG[TriageLevel.OUTPATIENT];\n\n  const isEmergency = result.triage_level === TriageLevel.EMERGENCY;\n  const isUrgent = result.triage_level === TriageLevel.URGENT;\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n      {/* 分級等級標題 */}\n      <div className={`${levelConfig.bgColor} ${levelConfig.borderColor} border-b px-6 py-4`}>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <span className=\"text-2xl\">{levelConfig.icon}</span>\n            <div>\n              <h2 className={`text-lg font-bold ${levelConfig.textColor}`}>\n                {levelConfig.label}等級\n              </h2>\n              {result.confidence_score && (\n                <p className=\"text-sm text-gray-600\">\n                  信心度：{Math.round(result.confidence_score * 100)}%\n                </p>\n              )}\n            </div>\n          </div>\n\n          {result.estimated_wait_time && (\n            <div className=\"flex items-center text-sm text-gray-600\">\n              <Clock className=\"w-4 h-4 mr-1\" />\n              預估等候：{result.estimated_wait_time}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"p-6 space-y-6\">\n        {/* 緊急處理 */}\n        {(isEmergency || isUrgent) && (\n          <EmergencyActions\n            emergencyNumbers={result.emergency_numbers}\n            onCall={onEmergencyCall}\n            isEmergency={isEmergency}\n          />\n        )}\n\n        {/* 主要建議 */}\n        <div>\n          <h3 className=\"text-sm font-medium text-gray-700 mb-2 flex items-center\">\n            <Info className=\"w-4 h-4 mr-1\" />\n            醫療建議\n          </h3>\n          <div className=\"bg-gray-50 rounded-lg p-4\">\n            <p className=\"text-gray-800\">{result.advice}</p>\n          </div>\n        </div>\n\n        {/* 檢測到的症狀 */}\n        {result.detected_symptoms.length > 0 && (\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\n              檢測到的症狀\n            </h3>\n            <div className=\"flex flex-wrap gap-2\">\n              {result.detected_symptoms.map((symptom, index) => (\n                <span\n                  key={index}\n                  className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800\"\n                >\n                  {symptom}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* 建議科別 */}\n        {result.recommended_departments && result.recommended_departments.length > 0 && (\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\n              建議科別\n            </h3>\n            <div className=\"flex flex-wrap gap-2\">\n              {result.recommended_departments.map((dept, index) => (\n                <span\n                  key={index}\n                  className=\"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800\"\n                >\n                  🏥 {dept}\n                </span>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* 下一步驟 */}\n        {result.next_steps.length > 0 && (\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-700 mb-2\">\n              建議處理步驟\n            </h3>\n            <div className=\"space-y-2\">\n              {result.next_steps.map((step, index) => (\n                <div key={index} className=\"flex items-start space-x-2\">\n                  <div className={`\n                    flex items-center justify-center w-6 h-6 rounded-full text-xs font-medium text-white\n                    ${isEmergency ? 'bg-red-500' : isUrgent ? 'bg-orange-500' : 'bg-blue-500'}\n                  `}>\n                    {index + 1}\n                  </div>\n                  <p className=\"text-sm text-gray-800 flex-1\">{step}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* 尋找附近醫院按鈕 */}\n        {!isEmergency && onFindHospitals && (\n          <div className=\"pt-4 border-t border-gray-100\">\n            <button\n              onClick={onFindHospitals}\n              className=\"w-full flex items-center justify-center px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\n            >\n              <MapPin className=\"w-4 h-4 mr-2\" />\n              尋找附近醫院\n            </button>\n          </div>\n        )}\n\n        {/* 免責聲明 */}\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n          <div className=\"flex items-start\">\n            <AlertTriangle className=\"w-4 h-4 text-yellow-600 mt-0.5 mr-2 flex-shrink-0\" />\n            <div className=\"text-xs text-yellow-800\">\n              <p className=\"font-medium mb-1\">免責聲明：</p>\n              <p>{result.disclaimer}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* 評估資訊 */}\n        <div className=\"text-xs text-gray-500 flex items-center justify-between border-t border-gray-100 pt-4\">\n          <span>評估ID: {result.request_id}</span>\n          <span>{new Date(result.timestamp).toLocaleString('zh-TW')}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TriageResult;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}